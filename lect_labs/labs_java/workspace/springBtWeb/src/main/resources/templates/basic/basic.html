<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
		<head>
				<meta charset="UTF-8">
				<title>Insert title here</title>
				<script th:src="@{/js/test.js}"></script>
		</head>
		<body>
				<h1>Thymeleaf</h1>
				<h3>1. EL</h3>
				<ul>
						<li th:text="${session.msg}"></li>
						<li th:text="${param.name}"></li>
						<li th:text="${a}"></li>
						<li th:text="${a + 10}"></li>
						<li th:text="'${1 + 2 } =' + ${1 + 2 } "></li>
						<li th:text="${a > 0 ? 'A' : 'B'}"></li>
						
				</ul>
				<h3>2. 주석</h3>
				<ul>
						<li>HTML : <!-- 주석 --></li>
						<li>Thymeleaf : <!--/*  타임리프 주석  */--></li>	
						<li>Thymeleaf : <!--/*/  타임리프 주석  /*/--> ,실행을 했는-> 성공 :출력 /실패 :주석 </li>
				</ul>
				<h3>3. 표현식</h3>
				<div>
				${...}:    변수의 값(메모리에 접근할 때 사용 )),  *{...}: 선택 변수 표현식, #{...}: 메시지(message.properties, 국제화) 표현식, 
				@{...}: URL 표현식, ~{...}: 조각 표현식
				</div>
				<h4>${...}</h4>
				<ul>
							<!--/* 텍스트 안에 태그는 적용 안된다 적용시키려면 utext 사용한다 */-->
						<li th:text="'메세지는 &quot;<b>'+${session.msg}+'</b>&quot; 입니다'"></li>
						<li th:utext="'메세지는 &quot;<b>'+${session.msg}+'</b>&quot; 입니다'"></li>
						<li>메세지는 &quot;[[${msg}]]&quot; 입니다</li>  <!--/*th:text 와 값 동일  */-->
						<li>메세지는 &quot;[(${msg})]&quot; 입니다</li>	<!--/*th:utext 와 값 동일  */-->
						<li th:utext="|메세지는 &quot;<b>'${session.msg}'</b>&quot; 입니다|"></li> <!--/*th:utext 와 값 동일  */-->
						 <!--/* util class만들때나 사용하지 일반적으로는 controller 를 통해 전달 받은 값으로 사용해야 한다   */-->
						<li>스프링 빈: [[  ${@templateServiceImpl.getMap()['A']}  ]]</li>
				</ul>
				<h4>@{...}</h4>
				<ul>
						<li><a th:href="@{/home/basic}">기본 url</a></li>
						<li><a th:href="@{/home/basic(name=${user.userName}, id=${user.userId})}">쿼리파라미터</a></li>
						<li><a th:href="@{/home/basic/{name}/{id}(name=${user.userName}, id=${user.userId})}">경로파라미터</a></li>
						<li><a th:href="@{/home/basic/{id}(name=${user.userName}, id=${user.userId})}">복합파라미터(쿼리 + 경로)</a></li>
				</ul>
				<h4>*{...}</h4>
				<ul th:object="${user}">
						<li th:text="${user.userName}"></li>
						<li th:text="*{userName}"></li>
				</ul>

				<h3>4. Data, 연산자 </h3>
				<ol th:with="val=${str}, val1='Hello', val2=null, val3='' ">
						<li th:text="|str: ${str }, val: ${val }, val1: ${val1 }, val2: ${val2 }, val3: ${val3 } |"></li>
						<li th:text="|${num } x 2 = ${num * 2 }|"></li>
						<li><span th:text="1 > 2"></span>,<span th:text="1 == 2">,</span><span th:text="1 != 2"></span></li>
						<li><span th:text="(3 % 2 == 0) ? '짝수' : '홀수' "></span></li>
						<li>Elvis 연산자</li>
						<li><span th:text="${val1}?: '값 없음' "></span>,<span th:text="${val1}?:_ "></span></li>
						<li><span th:text="${val2}?: '값 없음' "></span>,<span th:text="${val2}?:_ "></span></li>
						<li><span th:text="${val3}?: '값 없음' "></span>,<span th:text="${val3}?:_ "></span></li>
				</ol>
				
				<h3>5. 제어문</h3>
				<h4>if</h4>
				<ul>
						<li><span th:if=" ${a > 5}" >크다</span>, <span th:if=" ${a <= 5}">작다</span></li>
						<li><span th:if=" ${a > 5}" >크다</span>, <span th:unless=" ${a > 5}">작다</span></li>
						<li>
								<th:block>
										<th:block th:if="${a > 5 and a < 15}">조건 만족</th:block>
										<th:block th:if="${a > 5 or a < 15}">조건 만족</th:block>
								</th:block>
						</li>
						<li th:with=" str='F' " th:switch="${str}">
								<span th:case="A">90~</span>
								<span th:case="B">80~89</span>
								<span th:case="C">70~79</span>
								<span th:case="*">~69</span>
						</li>
						<li th:with="even=true, status='alert' ">
							<div th:text="${even? '홀수' : '짝수'}"></div>
							<div th:text="${even}?(${status=='alert'?'경고':'정상'}):'짝수'"></div>
                			<div th:text="${even}?(${status=='alert'?:'정상'}):'짝수'"></div>
						</li>
				</ul>
				
				<h4>Loop</h4>
				<ul>
						<li><span th:each="item: ${list}" >[[ ${item} ]], </span></li>
						<li>
								<div th:each="item, stat : ${list}">
										<div th:text="| ${stat.index}, ${stat.count}, ${stat.size}, ${stat.even}, ${stat.odd},
             						   ${stat.first}, ${stat.last}, ${stat.current} : ${item} |"></div>
								</div>
						</li>
						<li>
								<th:block th:each="item: ${list}">
										<th:block>[[ ${item}  ]],</th:block>
										<th:block>[[ ${item}  ]],</th:block>
								</th:block>
						</li>
						<!--/*  마지막 , 지우려면 stat넣어서 마지막이면 ,없이 하기  */-->
						<li th:with="nums=${#numbers.sequence(1,10)}">
								<span th:each="i : ${nums}">[[  ${i}  ]], </span>						
						</li>
				</ul>
				
				<h3>6. Form , 속성(Attribute)</h3>
				<form action="." method="post" th:object="${user}">
							<input type="text" id="idx" name="기본값" th:name="*{idx}" th:value="*{idx}"
							 class="text" th:attrappend="class=' large'" th:classappend="bold" /><br>
							<input type="text" th:field="*{userId}" required th:attr="placeholder=${msg}" />
							<input type="text" th:field="*{userName}" th:data-el="*{userName}" />
							<th:block th:if="true">
									<!--/* <th:block th:if="session.userId != null"></th:block> */-->
									<input type="text" th:class="${false?'active': 'deactive'}" />
									<select id="userRole" name="userRole" 
								                th:with="nums=${#numbers.sequence(1,10)}">
								            <option value="">선택해 주세요.</option>
								            <option th:each="num : ${nums}" 
								            			  th:value="${num}"
								            			  th:text="${num}" 
								            			  th:selected="${num==3}"	></option>
								    </select>
								   	<div>
								   										<!--/* field 와 value 값이 같으면 자동으로 checked 처리 된다 */-->
								   			<label><input type="checkbox" th:field="*{userStatus}" th:value="1" th:text="1"/></label>
           								 	<label><input type="checkbox" name="userStatus" id="userStatus2" th:value="2" th:text="2" th:checked="true"/></label>
								   	</div>
								   	<div>
											<label><input type="radio" name="userCheck" id="userCheck1" th:value="1" th:text="yes" th:checked="${a==10}"/></label>
            								<label><input type="radio" name="userCheck" id="userCheck2" th:value="2" th:text="no" th:checked="${a!=10}"/></label>
								   	</div>
							</th:block>
							<button type="submit">제출</button>
				</form>
				
				<h3>7. Fragment</h3>
				<div>
						<div th:insert="~{/basic/fragment :: frag01}"></div>
						<div th:replace="~{/basic/fragment :: frag01}"></div>
						<div th:replace="/basic/fragment :: frag01"></div>
						<!--  로그인 했을때 로그아웃 버튼이 나오게하는 식으로 활용가능  -->
						<div th:replace="${true} ? ~{/basic/fragment :: frag01} : _"></div>
						<div th:replace="~{/basic/fragment :: frag02('가', '나')}"></div>
						<div th:replace="~{/basic/fragment :: frag03(~{:: .msg})}">
								<i class="title">Title</i>
								<i class="msg">Message</i>
						</div>
				</div>
				
				<h3>8. Utility Object</h3>
				<div th:replace="~{/basic/util-object :: utilFragment}"></div>	
				
				
				<h3>9. JavaScript</h3>
				<script>
				        let msg = "[[${session.msg }]]";
				        let msg2 = "[(${msg })]";
				        let msg3 = "/[[${session.msg}]]/";
				        let name = "[[${param.name }]]";
				        let num = [[${a }]];
				
				        /* let user = [[${user }]]; */
			    </script>
			    
			    <script th:inline="javascript">
					    /* <![CDATA[ */
					       let msgs = [[${session.msg }]];
					       let  msgs2 = "[(${msg })]";
					       let msgs3 = /*[[${session.msg}]]*/;
					       let names = [[${param.name }]];
					       let nums = [[${a }]];
					
					       let user = [[${user }]];
					
					        console.log(user.userName);
					
					        [# th:each="item, stat: ${list}" #]
					        var num[[${stat.index}]] = [[${item}]];
					        [/]
					    /* ]]> */
			    </script>
			    
			    
		</body>
</html>